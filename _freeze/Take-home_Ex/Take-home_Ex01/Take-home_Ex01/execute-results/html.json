{
  "hash": "1052f3c23d42d9eea5e2d87783f1e7b8",
  "result": {
    "markdown": "---\ntitle: \"Take-home Exercise 1\"\nauthor: \"Sarthak Nagapurkar\"\ndate: \"April 19, 2024\"\ndate-modified: \"last-modified\"\nexecute: \n  eval: true\n  echo: true\n  warning: false\n  freeze: true\n---\n\n\n## 1 Overview\n\n### 1.1 Background\n\nThere are two major residential property market in Singapore, namely public and private housing. Public housing aims to meet the basic need of the general public with monthly household income less than or equal to S\\$14,000. For families with monthly household income more than S\\$14,000, they need to turn to the private residential market.\n\n### **1.2 The Task**\n\nAssuming the role of a graphical editor of a median company, this post aims to reveal the insights from private residential market and sub-markets of Singapore for the 1st quarter of 2024.\n\n### **1.3 The Data**\n\nTo accomplish the task, transaction data of [REALIS](https://www.ura.gov.sg/reis/index) will be used. A complete set of the private residential property transaction data from 1st January 2023 to 31st March 2024 will be used.\n\n### 1.4 **The Designing Tool**\n\nThe data is processed by using appropriate **tidyverse** family of packages and the statistical graphics are prepared using **ggplot2** and its extensions.\n\n## 2 Loading Packages\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(ggrepel, patchwork, ggthemes, ggridges, hrbrthemes, colorspace,ggdist, tidyverse)\n```\n:::\n\n\n## 3 Reading Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrealis_data_2023Q1 <- read_csv(\"data/ResidentialTransaction20240308160536.csv\")\nrealis_data_2023Q1 <- mutate(realis_data_2023Q1, Quarter='2023-Q1')\nrealis_data_2023Q2 <- read_csv(\"data/ResidentialTransaction20240308160736.csv\")\nrealis_data_2023Q2 <- mutate(realis_data_2023Q2, Quarter='2023-Q2')\nrealis_data_2023Q3 <- read_csv(\"data/ResidentialTransaction20240308161009.csv\")\nrealis_data_2023Q3 <- mutate(realis_data_2023Q3, Quarter='2023-Q3')\nrealis_data_2023Q4 <- read_csv(\"data/ResidentialTransaction20240308161109.csv\")\nrealis_data_2023Q4 <- mutate(realis_data_2023Q4, Quarter='2023-Q4')\nrealis_data_2024Q1 <- read_csv(\"data/ResidentialTransaction20240414220633.csv\")\nrealis_data_2024Q1 <- mutate(realis_data_2024Q1, Quarter='2024-Q1')\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nrealis_data <- rbind(realis_data_2023Q1, realis_data_2023Q2, realis_data_2023Q3, realis_data_2023Q4, realis_data_2024Q1)\nrealis_data$Month <- substr(realis_data$`Sale Date`,3,6)\n```\n:::\n\n\n### 3.1 Identify Duplicates\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsum(duplicated(realis_data))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0\n```\n:::\n:::\n\n\n### 3.2 Identify Missing Values\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsum(is.na(realis_data))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 6\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nrealis_data <- realis_data %>% \n  drop_na()\nsum(is.na(realis_data))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0\n```\n:::\n:::\n\n\n## 4 Visualising data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrealis_private_qoq <- realis_data %>%\ngroup_by(Quarter) %>%\n  summarize(Market = sum(`Transacted Price ($)`))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nrealis_private_qoq_type <- realis_data %>%\ngroup_by(Quarter,`Type of Sale`) %>%\n  summarize(Market = sum(`Transacted Price ($)`),.groups = 'drop')\nrealis_private_qoq_type\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 15 × 3\n   Quarter `Type of Sale`     Market\n   <chr>   <chr>               <dbl>\n 1 2023-Q1 New Sale       3391423709\n 2 2023-Q1 Resale         7383492683\n 3 2023-Q1 Sub Sale        362201200\n 4 2023-Q2 New Sale       4898898068\n 5 2023-Q2 Resale         7647611866\n 6 2023-Q2 Sub Sale        415885987\n 7 2023-Q3 New Sale       4755810600\n 8 2023-Q3 Resale         7216726086\n 9 2023-Q3 Sub Sale        538401704\n10 2023-Q4 New Sale       2973468195\n11 2023-Q4 Resale         6827797714\n12 2023-Q4 Sub Sale        615608458\n13 2024-Q1 New Sale       3301367339\n14 2024-Q1 Resale         6539279089\n15 2024-Q1 Sub Sale        457977458\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nrealis_private_qoq <- realis_private_qoq %>% mutate(PercentDiff = (`Market` - lag(`Market`)) / lag(`Market`) * 100)\nrealis_private_qoq_type <- realis_private_qoq %>% mutate(PercentDiff = (`Market` - lag(`Market`)) / lag(`Market`) * 100)\n```\n:::\n\n\n::: panel-tabset\n## The plot\n\n\n::: {.cell}\n\n:::\n\n\n## The code\n:::\n\n::: panel-tabset\n## The plot\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n\n## The code\n\n\n::: {.cell}\n\n```{.r .cell-code}\np1 <- ggplot(data = realis_data,\n             aes(colour = `Type of Area`,x = `Unit Price ($ PSF)`)) +\n  geom_density(alpha = 0.3) +\n  facet_wrap(~ `Type of Sale`, scales = \"free_y\", nrow = 3)\np2 <- ggplot(data = realis_data,\n       aes(x = `Type of Sale`,y = `Unit Price ($ PSF)`)) +\n  geom_boxplot() +\n  #stat_summary(geom = \"point\", fun = \"mean\", size=3, colour = \"red\")\n  coord_cartesian(ylim=c(500,7000))\np3 <- ggplot(data = realis_data,\n       aes(x = `Type of Sale`,y = `Unit Price ($ PSF)`,fill = `Type of Area`)) +\n  geom_boxplot()\np2 / (p1 | p3)\n```\n:::\n\n:::\n\n::: panel-tabset\n## The plot\n\n\n::: {.cell}\n\n```{.r .cell-code}\np1 <- ggplot(data = realis_data,\n             aes(x = `Planning Region`, fill= `Type of Sale`)) +\n  geom_bar()\np2 <- ggplot(data = realis_data,\n       aes(x = `Unit Price ($ PSF)`,\n           y = `Quarter`,fill = 0.5 - abs(0.5 - stat(ecdf)))) +\n  scale_fill_viridis_c(name = \"Tail probability\", direction = -1) +\n  stat_density_ridges(geom = \"density_ridges_gradient\", calc_ecdf = TRUE) +\n  facet_wrap(~`Property Type`)\np3 <- ggplot(data = realis_data,\n       aes(x = `Unit Price ($ PSF)`,\n           y = `Property Type`,fill = 0.5 - abs(0.5 - stat(ecdf)))) +\n  scale_fill_viridis_c(name = \"Tail probability\", direction = -1) +\n  stat_density_ridges(geom = \"density_ridges_gradient\", calc_ecdf = TRUE)\n(p1 / p2) \n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\n## The code\n:::\n\n::: panel-tabset\n## The plot\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(realis_data,\n       aes(x = Quarter, fill =`Type of Sale`)) +\n  geom_bar() +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +\n  facet_wrap(~`Property Type`,scales = \"free_y\")\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\n\n## The code\n:::\n\n::: panel-tabset\n## The plot\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(realis_data_2024Q1, \n       aes(x = `Planning Region`, \n           y = `Unit Price ($ PSM)`)) +\n  stat_halfeye(adjust = 0.5,\n               justification = -0.2,\n               .width = 0,\n               point_colour = NA) +\n  geom_boxplot(width = .20,\n               outlier.shape = NA) +\n  stat_dots(side = \"left\", \n            justification = 1.2, \n            binwidth = .5,\n            dotsize = 3.5) +\n  coord_flip() +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::\n\n\n## The code\n:::\n",
    "supporting": [
      "Take-home_Ex01_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}